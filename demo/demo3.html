<!doctype html>
<html>

<head>
	
	<meta charset="utf-8">
	
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>OMG! Responsive ads... On demand!</title>
	<meta name="description" content="Ad calls in head: Using writeCapture() and onMediaQuery() to call OpenX's showAdUnit() based on viewport size!">
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	
	<link rel="stylesheet" href="css/demo.css">
	
	<!-- https://github.com/scottjehl/Respond/ -->
	<!--[if (lt IE 9) & (!IEMobile)]>
		<script src="js/respond-1.1.0.min.js"></script>
	<![endif]-->
	
	<script src="http://ox-d.registerguard.com/w/1.0/jstag"></script>
	<script>
		<!--
			
			var $ox = OX();
			$ox.addPage('12679');
			$ox.fetchAds();
			
		//-->
	</script>
	
</head>
<body>
	
	<div id="skinny"></div>
	
	<div id="desktop"></div>
	
	<hr>
	
	<p>Browser's tested:</p>
	
	<ul>
		<li>
			<b>MAC Snow Leopard:</b>
			<ul>
				<li>Firefox 14.0.x</li>
				<li>Safari 5.1.x</li>
				<li>Opera 12.00</li>
				<li>Chrome 20.0.x</li>
			</ul>
		</li>
		<li>
			<b>PC Vista:</b>
			<ul>
				<li>Firefox 3.6.1.8 - <b><span style="color:red">FAIL!</span> Looks like document.writes are nuking the page.</b></li>
				<li>Firefox 14.0.x</li>
				<li>Chrome 20.0.x</li>
				<li>Safari 5.1.x - <b><span style="color:orange">BUGGY!</span> My mouse was doing some weird things and the browser window was slow to scale.</b></li>
				<li>Opera 12.00</li>
				<li>IE 9.0.x</li>
				<li>IE 8.0.x - <b><span style="color:orange">BUGGY!</span> Lots of permission denied JS errors and some ads not loading.</b></li>
				<li>IE 7.0.x - <b><span style="color:orange">BUGGY!</span> Some ads not loading along with "invalid argument" errors.</b></li>
			</ul>
		</li>
		<li>
			<b>PC XP:</b>
			<ul>
				<li>IE 6.0.x - <b><span style="color:orange">BUGGY!</span> Some ads not loading along with "invalid argument" errors.</b></li>
			</ul>
		</li>
		<li>
			<b>iPhone 4:</b>
			<ul>
				<li>Safari 4.3 (simulated)</li>
				<li>Safari 5.1.1</li>
				<li>Chrome 19.0.x</li>
				<li>Opera Mini 7.0.x</li>
			</ul>
		</li>
		<li>
			<b>iPhone:</b>
			<ul>
				<li>Safari 4.3 (simulated)</li>
			</ul>
		</li>
		<li>
			<b>iPad:</b>
			<ul>
				<li>Safari 4.3 (simulated)</li>
				<li>Safari 5.1.1</li>
			</ul>
		</li>
	</ul>
	
	<p>Note: Almost all browsers get the occasional failed ad load and/or will load/display two ads.</p>
	
	<hr>
	
	<p><b>Stuff:</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat, <a href="#">enim sit amet fermentum mollis</a>, nibh sapien lacinia ante, in condimentum nulla eros sit amet lacus. Sed tortor ipsum, sollicitudin sed imperdiet lacinia, tristique quis leo. Aenean congue, arcu in placerat feugiat, ligula nisi cursus urna, eget adipiscing eros est ac enim. Pellentesque <a href="#">dignissim</a>, ligula ut scelerisque faucibus, felis odio ornare diam, ut vestibulum velit nisi at lorem. Morbi eu ligula sem. Curabitur sit amet enim eu lectus lobortis fermentum. Proin id magna dolor, quis iaculis tortor. Vestibulum eu elit felis, nec elementum ipsum. Fusce sit amet leo non magna cursus dignissim. Sed rhoncus lorem quis mi <a href="#">tristique</a> et viverra arcu varius. In at libero ante. Duis nisl ligula, lobortis quis aliquam quis, semper id enim. <a href="#">Pellentesque</a> orci nibh, rhoncus in tempus ac, tempus in risus. Duis sit amet massa in nulla auctor pulvinar at ut urna. Mauris posuere ornare augue quis congue. Integer tristique, lacus sit amet mattis tristique, purus erat congue lacus, id <a href="#">ullamcorper est ante</a> non libero.</p>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat, <a href="#">enim sit amet fermentum mollis</a>, nibh sapien lacinia ante, in condimentum nulla eros sit amet lacus. Sed tortor ipsum, sollicitudin sed imperdiet lacinia, tristique quis leo. Aenean congue, arcu in placerat feugiat, ligula nisi cursus urna, eget adipiscing eros est ac enim. Pellentesque <a href="#">dignissim</a>, ligula ut scelerisque faucibus, felis odio ornare diam, ut vestibulum velit nisi at lorem. Morbi eu ligula sem. Curabitur sit amet enim eu lectus lobortis fermentum. Proin id magna dolor, quis iaculis tortor. Vestibulum eu elit felis, nec elementum ipsum. Fusce sit amet leo non magna cursus dignissim. Sed rhoncus lorem quis mi <a href="#">tristique</a> et viverra arcu varius. In at libero ante. Duis nisl ligula, lobortis quis aliquam quis, semper id enim. <a href="#">Pellentesque</a> orci nibh, rhoncus in tempus ac, tempus in risus. Duis sit amet massa in nulla auctor pulvinar at ut urna. Mauris posuere ornare augue quis congue. Integer tristique, lacus sit amet mattis tristique, purus erat congue lacus, id <a href="#">ullamcorper est ante</a> non libero.</p>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent volutpat, <a href="#">enim sit amet fermentum mollis</a>, nibh sapien lacinia ante, in condimentum nulla eros sit amet lacus. Sed tortor ipsum, sollicitudin sed imperdiet lacinia, tristique quis leo. Aenean congue, arcu in placerat feugiat, ligula nisi cursus urna, eget adipiscing eros est ac enim. Pellentesque <a href="#">dignissim</a>, ligula ut scelerisque faucibus, felis odio ornare diam, ut vestibulum velit nisi at lorem. Morbi eu ligula sem. Curabitur sit amet enim eu lectus lobortis fermentum. Proin id magna dolor, quis iaculis tortor. Vestibulum eu elit felis, nec elementum ipsum. Fusce sit amet leo non magna cursus dignissim. Sed rhoncus lorem quis mi <a href="#">tristique</a> et viverra arcu varius. In at libero ante. Duis nisl ligula, lobortis quis aliquam quis, semper id enim. <a href="#">Pellentesque</a> orci nibh, rhoncus in tempus ac, tempus in risus. Duis sit amet massa in nulla auctor pulvinar at ut urna. Mauris posuere ornare augue quis congue. Integer tristique, lacus sit amet mattis tristique, purus erat congue lacus, id <a href="#">ullamcorper est ante</a> non libero.</p>
	
	<hr>
	
	<ol id="debug"></ol>
	
	<script src="js/plugins.js"></script>
	<script src="js/demo.js"></script>
	<script>
		<!--
			
			var  $ad1 = document.getElementById('skinny'),
			$ad2 = document.getElementById('desktop'),
			$units = {
				page_peel          : '99172',
				button_2           : '132435',
				leaderboard        : '245133',
				medium_rectangle   : '245135',
				half_page          : '245137',
				bottom_leaderboard : '11998'
			},
			skinny = false,
			desktop = false,
			queries = [
				{
					context  : 'small',
					callback : function() {
						
						msg('small');
						
						if ( ! skinny) {
							
							$ad1.innerHTML = '';
							writeCapture($ad1).write('<script>$ox.showAdUnit(' + $units.medium_rectangle + ')<\/script>').close(); // Medium Rectangle.
							
						}
						
						skinny = true;
						
					}
				},
				{
					context  : 'large',
					callback : function() {
						
						msg('large');
						
						if ( ! desktop) {
							
							$ad2.innerHTML = '';
							writeCapture($ad2).write('<script>$ox.showAdUnit(' + $units.leaderboard + ')<\/script>').close(); // Leaderboard
							
						}
						
						desktop = true;
						
					}
				}
			];
			
			window.onload = function() { MQ.init(queries); }
			
		//-->
	</script>
	
</body>
</html>